/* Rangers-style scoreboard (no logos) with responsive portrait/landscape
   - Landscape: HOME | CLOCK/PERIOD | GUEST
   - Portrait:  CLOCK across top, scores under, PERIOD below clock
   - Dot-matrix digits via background-clip pattern
*/

:root{
  --blue: #0736c7;
  --blue2: #0a49ff;
  --white: rgba(255,255,255,0.98);
  --whiteSoft: rgba(255,255,255,0.86);
  --black: #050505;
  --black2: #0c0c0c;

  --borderOuter: 4px;
  --borderInner: 3px;
  --gap: 10px;
  --r: 8px;

  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

*{ box-sizing: border-box; }
html, body{
  height: 100%;
  margin: 0;
  background: radial-gradient(900px 600px at 50% 0%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.02) 40%, rgba(0,0,0,0) 70%),
              linear-gradient(180deg, #061b66, #040b25 60%, #03061a);
  color: var(--white);
  overflow: hidden;
  overscroll-behavior: none;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}
body{ -webkit-tap-highlight-color: transparent; }

.app{
  height: 100vh;
  height: 100svh;
  height: 100dvh;
  display: grid;
  padding: max(10px, env(safe-area-inset-top)) max(10px, env(safe-area-inset-right)) max(10px, env(safe-area-inset-bottom)) max(10px, env(safe-area-inset-left));
}

.board{
  height: 100%;
  width: 100%;
  display: grid;
  place-items: center;
}

.frame{
  width: min(1200px, 100%);
  height: 100%;
  display: grid;
  grid-template-rows: auto 1fr;
  gap: 10px;
}

.topbar{
  background: linear-gradient(180deg, #0a49ff, #0736c7);
  border: var(--borderOuter) solid var(--white);
  border-radius: var(--r);
  padding: 10px 14px;
  display: grid;
  align-items: center;
}

.topbar__title{
  text-align: center;
  font-weight: 1000;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: clamp(18px, 3.1vw, 40px);
  line-height: 1.0;
  text-shadow: 0 2px 0 rgba(0,0,0,0.35);
}

/* Main panel border like the screenshot */
.panel{
  background: linear-gradient(180deg, #0a49ff, #0736c7);
  border: var(--borderOuter) solid var(--white);
  border-radius: var(--r);
  padding: 10px;
  display: grid;
  gap: var(--gap);
  height: 100%;
  min-height: 0;

  /* Landscape default */
  grid-template-columns: 1fr 1.6fr 1fr;
  grid-template-areas: "home center away";
  align-items: stretch;
}

#homeBox{ grid-area: home; }
#centerBox{ grid-area: center; }
#awayBox{ grid-area: away; }

/* Portrait: clock spans top row, scores below */
@media (orientation: portrait){
  .panel{
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1.25fr 1fr;
    grid-template-areas:
      "center center"
      "home   away";
  }
}

/* Columns */
.col{
  min-width: 0;
  min-height: 0;
  display: grid;
  gap: 10px;
  align-content: start;
}
.col--home, .col--away{
  grid-template-rows: auto 1fr;
}
.col--center{
  grid-template-rows: 1fr auto;
}

/* Labels like HOME / GUEST */
.label{
  font-family: var(--mono);
  color: var(--white);
  text-shadow: 0 2px 0 rgba(0,0,0,0.35);
  letter-spacing: 0.16em;
  font-weight: 900;
  text-transform: uppercase;
  text-align: center;
}
.label--side{
  font-size: clamp(14px, 2.2vw, 26px);
  padding-top: 6px;
}
.label--period{
  font-size: clamp(14px, 2.0vw, 24px);
}

/* Digits container base */
.digits{
  appearance: none;
  border: var(--borderInner) solid var(--white);
  border-radius: 4px;
  background:
    /* "off dots" */
    radial-gradient(circle, rgba(255,255,255,0.15) 0 1.3px, rgba(0,0,0,0) 1.4px) 0 0 / 7px 7px,
    linear-gradient(180deg, var(--black2), var(--black));
  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.55);
  width: 100%;
  height: 100%;
  min-height: 0;
  padding: 10px;
  cursor: pointer;
  user-select: none;
  touch-action: manipulation;

  display: grid;
  place-items: center;

  font-family: var(--mono);
  font-weight: 1000;
  letter-spacing: 0.08em;
  line-height: 1.0;
  color: transparent; /* dots will render via background-clip */
}

/* "ON dots" for the text itself */
.digits.dot{
  background-image:
    radial-gradient(circle, rgba(255,255,255,0.18) 0 1.3px, rgba(0,0,0,0) 1.4px),
    linear-gradient(180deg, var(--black2), var(--black));
  background-size: 7px 7px, auto;
  background-position: 0 0, 0 0;
}

/* Text dot pattern */
.digits.dot{
  -webkit-text-fill-color: transparent;
  -webkit-background-clip: text;
  background-clip: text;
}

/* To keep the panel's "off dots" visible we wrap text with pseudo layer (below) */
.digits::before{
  content: attr(data-off);
  display: none;
}

/* We do the dot-matrix text using a pseudo-element so the button can keep the "off dots" background */
.digits.dot{
  position: relative;
  color: transparent;
}
.digits.dot::after{
  content: attr(data-text);
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  padding: 10px;
  border-radius: 4px;
  /* bright dots */
  background: radial-gradient(circle, rgba(255,255,255,0.95) 0 1.35px, rgba(0,0,0,0) 1.45px) 0 0 / 7px 7px;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 0 10px rgba(255,255,255,0.08);
  letter-spacing: inherit;
  font-family: inherit;
  font-weight: inherit;
  line-height: inherit;
  pointer-events: none;
}

/* Sizes (JS will overwrite font-size to fit) */
.digits--score{ font-size: 90px; }
.digits--clock{ font-size: 96px; }

/* Period row (center bottom) */
.periodRow{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  align-items: center;
  justify-items: stretch;
  padding: 0 4px 4px;
}

.periodBox{
  appearance: none;
  border: var(--borderInner) solid var(--white);
  border-radius: 4px;
  background: linear-gradient(180deg, var(--black2), var(--black));
  color: var(--white);
  font-family: var(--mono);
  font-weight: 1000;
  letter-spacing: 0.10em;
  padding: 10px 14px;
  min-width: 64px;
  text-align: center;
  cursor: pointer;
  user-select: none;
  touch-action: manipulation;
  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.55);
  font-size: clamp(18px, 3.0vw, 34px);
}
.periodBox:active{ transform: translateY(1px); }

/* HUD styling */
.hud{
  position: fixed;
  top: max(10px, env(safe-area-inset-top));
  left: max(10px, env(safe-area-inset-left));
  display: flex;
  align-items: center;
  gap: 10px;
  z-index: 60;
}
.hud__btn{
  appearance: none;
  border: 2px solid rgba(255,255,255,0.9);
  background: rgba(0,0,0,0.25);
  color: var(--white);
  border-radius: 10px;
  padding: 8px 10px;
  font-weight: 900;
  font-size: 18px;
  cursor: pointer;
  user-select: none;
  touch-action: manipulation;
}
.hud__btn:active{ transform: translateY(1px); }
.hud__wake{
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: rgba(255,255,255,0.35);
  box-shadow: 0 0 0 4px rgba(0,0,0,0.12);
}

/* Controls panel */
.controls{
  position: fixed;
  inset: 0;
  z-index: 70;
  display: grid;
  align-items: end;
  justify-items: stretch;
  pointer-events: none;
}
.controls__backdrop{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.55);
  opacity: 0;
  transition: opacity 160ms ease;
}
.controls__panel{
  position: relative;
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
  border: 2px solid rgba(255,255,255,0.8);
  background: rgba(6, 15, 45, 0.96);
  box-shadow: 0 -18px 40px rgba(0,0,0,0.55);
  padding: 14px;
  transform: translateY(18px);
  opacity: 0;
  transition: transform 160ms ease, opacity 160ms ease;
  pointer-events: auto;
}
.controls__header{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 12px;
}
.controls__title{
  font-family: var(--mono);
  letter-spacing: 0.12em;
  font-weight: 1000;
  color: rgba(255,255,255,0.9);
}
.controls__close{
  appearance: none;
  border: 2px solid rgba(255,255,255,0.85);
  background: rgba(0,0,0,0.25);
  color: var(--white);
  border-radius: 10px;
  padding: 8px 10px;
  font-weight: 1000;
  cursor: pointer;
  user-select: none;
  touch-action: manipulation;
}
.controls__close:active{ transform: translateY(1px); }

.controls__grid{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}
.controls__note{
  margin-top: 10px;
  color: rgba(255,255,255,0.85);
  font-size: 12px;
  line-height: 1.35;
}

.btn{
  appearance: none;
  border: 2px solid rgba(255,255,255,0.85);
  background: rgba(0,0,0,0.20);
  color: var(--white);
  border-radius: 12px;
  padding: 14px 12px;
  font-weight: 1000;
  font-size: 16px;
  cursor: pointer;
  user-select: none;
  touch-action: manipulation;
}
.btn:active{ transform: translateY(1px); }
.btn[disabled]{ opacity: 0.45; cursor: not-allowed; transform: none; }

.controls--open{ pointer-events: auto; }
.controls--open .controls__backdrop{ opacity: 1; }
.controls--open .controls__panel{ transform: translateY(0); opacity: 1; }
.controls--hidden{ display:none; }

@media (max-width: 860px){
  .controls__grid{ grid-template-columns: 1fr 1fr; }
}
